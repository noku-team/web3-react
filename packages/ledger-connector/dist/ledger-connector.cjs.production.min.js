"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=require("@web3-react/abstract-connector"),t=e(require("web3-provider-engine")),i=require("0x-tools/subproviders/lib/src"),o=e(require("web3-provider-engine/subproviders/cache.js"));function n(e,r){return(n=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}exports.LedgerConnector=function(e){var r,c;function s(r){var t,i=r.chainId,o=r.url,n=r.pollingInterval,c=r.requestTimeoutMs,s=r.accountFetchingConfigs,a=r.baseDerivationPath;return(t=e.call(this,{supportedChainIds:[i]})||this).chainId=i,t.url=o,t.pollingInterval=n,t.requestTimeoutMs=c,t.accountFetchingConfigs=s,t.baseDerivationPath=a,t}c=e,(r=s).prototype=Object.create(c.prototype),r.prototype.constructor=r,n(r,c);var a=s.prototype;return a.activate=function(){try{if(!this.provider){var e=new t({pollingInterval:this.pollingInterval});e.addProvider(new i.LedgerSubprovider({networkId:this.chainId,ledgerEthereumClientFactoryAsync:i.ledgerEthereumBrowserClientFactoryAsync,accountFetchingConfigs:this.accountFetchingConfigs,baseDerivationPath:this.baseDerivationPath})),e.addProvider(new o),e.addProvider(new i.RPCSubprovider(this.url,this.requestTimeoutMs)),this.provider=e}return this.provider.start(),Promise.resolve({provider:this.provider,chainId:this.chainId})}catch(e){return Promise.reject(e)}},a.getProvider=function(){try{return Promise.resolve(this.provider)}catch(e){return Promise.reject(e)}},a.getChainId=function(){try{return Promise.resolve(this.chainId)}catch(e){return Promise.reject(e)}},a.getAccount=function(e){void 0===e&&(e=0);try{var r=this.getLedgerSubprovider();return Promise.resolve(r.getAccountAsync(e))}catch(e){return Promise.reject(e)}},a.getLedgerSubprovider=function(){return this.provider._providers[0]},a.deactivate=function(){this.provider.stop()},s}(r.AbstractConnector);
//# sourceMappingURL=ledger-connector.cjs.production.min.js.map
